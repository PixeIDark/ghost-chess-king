# ♟️ 체스 게임 (Ghost Chess King)

3명의 조언자와 함께 상대를 물리치는 체스 게임입니다.

## 🎮 게임 플레이

### 게임 모드
- **Solo**: 혼자 보드를 자유롭게 사용 (실전 연습용)
- **AI**: Stockfish 엔진과 대전 (레벨 조절 가능)

### 플레이어 색상
- **White**: 흰 기물로 먼저 시작
- **Black**: 검은 기물로 나중에 시작

---

## 🧠 조언자 시스템

게임 중 **AI 모드에서만** 3명의 조언자에게 조언을 받을 수 있습니다.

### 조언자 레벨

#### 1️⃣ 동네형 (Low Advisor)
- **깊이**: 3 (약함)
- **특징**: 빠른 응답, 기초 전략
- **사용처**: 상황 파악, 기본 수 찾기

#### 2️⃣ 프로 (Mid Advisor)
- **깊이**: 13 (중상)
- **특징**: 균형잡힌 분석, 실용적 수
- **사용처**: 중요한 순간, 더 나은 수 찾기

#### 3️⃣ 알파고 (High Advisor)
- **깊이**: 20 (매우 강함)
- **특징**: 최선의 수, 깊은 분석
- **사용처**: 결정적 순간, 승리 전략

---

## 🎯 주요 기능

### 게임 화면
- **체스판**: 8×8 보드, 클릭 투 클릭으로 이동
- **시간**: 플레이어별 남은 시간 표시
- **체크 경고**: 킹이 위험한 상태일 때 알림
- **기물 승격**: 폰이 끝줄에 도달시 기물 선택

### 조언 기능
- **실시간 표시**: 추천 수를 보드에 표시 (초록색)
- **조언자 선택**: 3명 중 원하는 조언자에게 요청
- **남은 횟수**: 각 조언자별 사용 횟수 표시

### 게임 관리
- **한 수 무르기**: 마지막 수 취소 (횟수 제한)
- **게임 결과**: 승패/무승부 표시
- **게임 재시작**: 새 게임 시작

### 채팅
- **로비 채팅**: 다른 플레이어와 실시간 채팅
- **닉네임**: 사이트 접속 시 자동 할당

---

## 🛠️ 기술 스택

### Frontend
- **React 18** - UI 프레임워크
- **TypeScript** - 타입 안정성
- **Tailwind CSS** - 스타일링

### Game Engine
- **Stockfish 17** - 체스 AI 엔진 (Web Worker)

### Network
- **Socket.IO** - 실시간 통신 (로비 채팅)

### State Management
- **React Hooks** - 상태 관리

## 🚀 시작하기

### 설치
```bash
npm install
```

### 개발 실행
```bash
npm run dev
```

### 빌드
```bash
npm run build
```

---

## 🎮 플레이 방법

### 1. 게임 모드 선택
- **Solo** 또는 **AI** 선택

### 2. 플레이어 색상 선택
- **White** (먼저 시작) 또는 **Black** (나중 시작)

### 3. 게임 시작
- 체스판에서 기물을 클릭 투 클릭으로 이동

### 4. 조언 받기 (AI 모드만)
- 우측 "조언 받기" 패널에서 조언자 선택
- 추천 수가 보드에 표시됨 (초록색)

### 5. 게임 종료
- **승리**: 상대 킹을 체크메이트
- **패배**: 자신의 킹이 체크메이트
- **무승부**: 스테일메이트 또는 50수 규칙

---

## ⚙️ 게임 규칙

### 기본 규칙
- 표준 국제 체스 규칙 준수
- 폰은 끝줄에 도달시 퀸/룩/비숍/나이트로 승격

### 특수 이동
- **캐슬링**: 킹과 룩이 조건을 만족할 때 동시 이동
- **앙파상**: 폰의 특수 포획 규칙

### 종료 조건
- **체크메이트**: 킹이 위험하고 피할 수 없음
- **스테일메이트**: 체크가 아니지만 합법적 수가 없음
- **시간 초과**: 시간이 0이 됨
- **무승부**: 충분한 재료 부족 (킹만 남음)

---

## 🧠 AI 조언 시스템

### Stockfish 엔진
- 오픈소스 체스 엔진
- 극도로 강력한 AI (ELO ~3500)
- 깊이(Depth)에 따라 강도 조절

### 조언 프로세스
1. 현재 보드 상태를 FEN 포맷으로 변환
2. Stockfish에 요청 (설정된 깊이로 분석)
3. 최적의 수 반환
4. 보드에 시각화 (초록색)

### 성능 최적화
- **Solo 모드**: Stockfish 미로드 (메모리 절약)
- **AI 모드**: 게임 시작 후에만 로드
- **Web Worker**: 메인 스레드 블로킹 없음

---

## 🎨 UI/UX 특징

### 보드 표시
- **선택된 칸**: 파란색 테두리
- **이동 가능한 칸**: 초록색 점
- **추천 이동**: 초록색 화살표 (조언 사용 시)
- **체크 상태**: 빨간색 경고

### 다크 테마
- 눈 피로 최소화
- 게임에 집중하기 좋음

---

## 💬 웹소켓 & 온라인 기능

### 현재 구현 (로비 채팅)
- **전체 플레이어 채팅**: 게임 시작 전 다른 플레이어와 실시간 채팅
- **자동 닉네임**: 게임 접속 시 자동 할당
- **실시간 메시지**: Socket.IO 기반 즉시 메시지 전달

### 추후 계획 (사람 vs 사람 대결)
추후 사람 간 대결을 위해 기본적인 웹소켓 구조를 구현했습니다.

**예정 기능**:
- 온라인 플레이어 매칭
- 게임 중 1:1 채팅
- 관전자 기능
- 플레이어 레이팅 시스템